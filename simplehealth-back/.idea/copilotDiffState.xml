<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/TESTES_CRIADOS_NOVOS.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/TESTES_CRIADOS_NOVOS.md" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="# Testes Unitários Criados - Módulo de Agendamento&#10;&#10;## Resumo&#10;Foram criados **60 testes unitários** para o módulo de agendamento, cobrindo diferentes camadas da aplicação.&#10;&#10;## Testes Criados&#10;&#10;### 1. Domain - Enums (3 testes)&#10;**TipoConsultaEnumTest.java**&#10;- ✅ testEnumValues() - Verifica todos os valores do enum&#10;- ✅ testEnumValueOf() - Testa conversão de String para enum&#10;- ✅ testEnumName() - Verifica os nomes dos valores&#10;&#10;### 2. Domain - Entities (19 testes)&#10;&#10;#### AgendamentoTest.java (6 testes)&#10;- ✅ testAgendamentoCreationWithConsulta() - Criação de agendamento com todos os campos&#10;- ✅ testAgendamentoWithEncaixe() - Testa encaixe em agendamento&#10;- ✅ testAgendamentoCancelamento() - Testa cancelamento de agendamento&#10;- ✅ testAgendamentoDefaultValues() - Verifica valores padrão&#10;- ✅ testAgendamentoModalidades() - Testa modalidades presencial e remota&#10;- ✅ testAgendamentoAllStatus() - Testa todos os status possíveis&#10;&#10;#### ExameTest.java (6 testes)&#10;- ✅ testExameCreationWithBuilder() - Criação com builder&#10;- ✅ testExameSemPreparo() - Exame sem necessidade de preparo&#10;- ✅ testExameComPreparo() - Exame com instruções de preparo&#10;- ✅ testExameSettersAndGetters() - Testa setters e getters&#10;- ✅ testExameHerdaAgendamento() - Verifica herança de Agendamento&#10;- ✅ testExameAllArgsConstructor() - Testa construtor completo&#10;&#10;#### ProcedimentoTest.java (7 testes)&#10;- ✅ testProcedimentoCreationWithBuilder() - Criação com builder&#10;- ✅ testProcedimentoRiscoBaixo() - Procedimento de risco baixo&#10;- ✅ testProcedimentoRiscoMedio() - Procedimento de risco médio&#10;- ✅ testProcedimentoSettersAndGetters() - Testa setters e getters&#10;- ✅ testProcedimentoHerdaAgendamento() - Verifica herança&#10;- ✅ testProcedimentoAllArgsConstructor() - Testa construtor completo&#10;- ✅ testProcedimentoNoArgsConstructor() - Testa construtor vazio&#10;&#10;### 3. Application - DTOs (6 testes)&#10;&#10;#### EncaixeDTOTest.java (6 testes)&#10;- ✅ testEncaixeDTOCreationWithBuilder() - Criação com builder&#10;- ✅ testEncaixeDTONoArgsConstructor() - Construtor sem argumentos&#10;- ✅ testEncaixeDTOAllArgsConstructor() - Construtor com todos os argumentos&#10;- ✅ testEncaixeDTOSettersAndGetters() - Testa setters e getters&#10;- ✅ testEncaixeDTOWithNullValues() - Testa com valores nulos&#10;- ✅ testEncaixeDTOEqualsAndHashCode() - Testa equals e hashCode&#10;&#10;### 4. Application - Exceptions (6 testes)&#10;&#10;#### UsuarioNaoEncontradoExceptionTest.java (6 testes)&#10;- ✅ testExceptionMessage() - Verifica mensagem da exceção&#10;- ✅ testExceptionIsInstanceOfAgendamentoException() - Verifica herança&#10;- ✅ testExceptionIsInstanceOfRuntimeException() - Verifica tipo base&#10;- ✅ testExceptionWithDifferentMessages() - Testa diferentes mensagens&#10;- ✅ testExceptionCanBeThrown() - Verifica se pode ser lançada&#10;- ✅ testExceptionMessageWithLogin() - Testa mensagem com login&#10;&#10;### 5. Application - Services (11 testes)&#10;&#10;#### ExameServiceTest.java (5 testes)&#10;- ✅ testSalvarExameComSucesso() - Salva exame com sucesso&#10;- ✅ testSalvarExameSemPreparo() - Salva exame sem preparo&#10;- ✅ testSalvarExameChamaRepository() - Verifica chamada ao repository&#10;- ✅ testSalvarExameComDadosCompletos() - Salva com todos os dados&#10;- ✅ testSalvarDiferentesTiposDeExame() - Salva diferentes tipos&#10;&#10;#### ProcedimentoServiceTest.java (6 testes)&#10;- ✅ testSalvarProcedimentoComSucesso() - Salva procedimento com sucesso&#10;- ✅ testSalvarProcedimentoRiscoBaixo() - Salva procedimento de risco baixo&#10;- ✅ testSalvarProcedimentoChamaRepository() - Verifica chamada ao repository&#10;- ✅ testSalvarProcedimentoComDadosCompletos() - Salva com todos os dados&#10;- ✅ testSalvarDiferentesTiposDeProcedimento() - Salva diferentes tipos&#10;- ✅ testSalvarProcedimentoComDiferentesNiveisRisco() - Testa níveis de risco&#10;&#10;### 6. Application - Use Cases (11 testes)&#10;&#10;#### RegistrarBloqueioAgendaUseCaseTest.java (5 testes)&#10;- ✅ testRegistrarBloqueioComSucesso() - Registra bloqueio com sucesso&#10;- ✅ testRegistrarBloqueioComDadosCompletos() - Registra com dados completos&#10;- ✅ testRegistrarBloqueioChamaBloqueioAgendaService() - Verifica chamada ao service&#10;- ✅ testRegistrarBloqueioComAntecedenciaMinima() - Testa antecedência mínima&#10;- ✅ testRegistrarBloqueioParaDiferentesMedicos() - Testa para diferentes médicos&#10;&#10;#### SolicitarEncaixeUseCaseTest.java (6 testes)&#10;- ✅ testSolicitarEncaixeComSucesso() - Solicita encaixe com sucesso&#10;- ✅ testSolicitarEncaixeVerificaDisponibilidade() - Verifica disponibilidade&#10;- ✅ testSolicitarEncaixeLancaExcecaoQuandoIndisponivel() - Testa exceção quando indisponível&#10;- ✅ testSolicitarEncaixeMarcaComoEncaixe() - Verifica flag de encaixe&#10;- ✅ testSolicitarEncaixeComStatusAtivo() - Verifica status ativo&#10;- ✅ testSolicitarEncaixeComDadosCompletos() - Testa com dados completos&#10;&#10;### 7. Web - Controllers (4 testes)&#10;&#10;#### EncaixeControllerTest.java (4 testes)&#10;- ✅ testSolicitarEncaixeComSucesso() - Solicita encaixe via HTTP com sucesso&#10;- ✅ testSolicitarEncaixeComHorarioIndisponivel() - Testa erro quando horário indisponível&#10;- ✅ testSolicitarEncaixeRetornaConsulta() - Verifica retorno do endpoint&#10;- ✅ testSolicitarEncaixeChamaUseCase() - Verifica integração com use case&#10;&#10;## Cobertura de Testes&#10;&#10;### Camadas Testadas:&#10;- ✅ **Domain Layer** (Entities e Enums)&#10;- ✅ **Application Layer** (DTOs, Exceptions, Services, Use Cases)&#10;- ✅ **Web Layer** (Controllers)&#10;&#10;### Estatísticas:&#10;- **Total de Testes**: 60&#10;- **Testes Passando**: 60 ✅&#10;- **Testes Falhando**: 0&#10;- **Build Status**: SUCCESS ✅&#10;&#10;## Arquivos Criados:&#10;&#10;1. `/src/test/java/com/simplehealth/agendamento/domain/enums/TipoConsultaEnumTest.java`&#10;2. `/src/test/java/com/simplehealth/agendamento/domain/entity/AgendamentoTest.java`&#10;3. `/src/test/java/com/simplehealth/agendamento/domain/entity/ExameTest.java`&#10;4. `/src/test/java/com/simplehealth/agendamento/domain/entity/ProcedimentoTest.java`&#10;5. `/src/test/java/com/simplehealth/agendamento/application/dtos/EncaixeDTOTest.java`&#10;6. `/src/test/java/com/simplehealth/agendamento/application/exception/UsuarioNaoEncontradoExceptionTest.java`&#10;7. `/src/test/java/com/simplehealth/agendamento/application/services/ExameServiceTest.java`&#10;8. `/src/test/java/com/simplehealth/agendamento/application/services/ProcedimentoServiceTest.java`&#10;9. `/src/test/java/com/simplehealth/agendamento/application/usecases/RegistrarBloqueioAgendaUseCaseTest.java`&#10;10. `/src/test/java/com/simplehealth/agendamento/application/usecases/SolicitarEncaixeUseCaseTest.java`&#10;11. `/src/test/java/com/simplehealth/agendamento/web/controllers/EncaixeControllerTest.java`&#10;&#10;## Tecnologias Utilizadas:&#10;- JUnit 5&#10;- Mockito&#10;- Spring Boot Test&#10;- MockMvc (para testes de controllers)&#10;- Assertions&#10;&#10;## Observações:&#10;- Todos os testes utilizam mocks para isolar as unidades testadas&#10;- Os testes seguem o padrão AAA (Arrange, Act, Assert)&#10;- Cobertura de casos positivos e negativos&#10;- Testes de validação de dados e comportamento&#10;- Testes de integração para controllers usando MockMvc&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/dtos/EncaixeDTOTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/dtos/EncaixeDTOTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.application.dtos;&#10;&#10;import org.junit.jupiter.api.Test;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;&#10;class EncaixeDTOTest {&#10;&#10;  @Test&#10;  void testEncaixeDTOCreationWithBuilder() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 1, 15, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 1, 16, 0);&#10;&#10;    EncaixeDTO encaixeDTO = EncaixeDTO.builder()&#10;        .pacienteCpf(&quot;12345678900&quot;)&#10;        .medicoCrm(&quot;CRM123456&quot;)&#10;        .dataHoraInicio(inicio)&#10;        .dataHoraFim(fim)&#10;        .motivoEncaixe(&quot;Urgência médica&quot;)&#10;        .observacoes(&quot;Paciente com dor aguda&quot;)&#10;        .usuarioCriadorLogin(&quot;admin&quot;)&#10;        .build();&#10;&#10;    assertNotNull(encaixeDTO);&#10;    assertEquals(&quot;12345678900&quot;, encaixeDTO.getPacienteCpf());&#10;    assertEquals(&quot;CRM123456&quot;, encaixeDTO.getMedicoCrm());&#10;    assertEquals(inicio, encaixeDTO.getDataHoraInicio());&#10;    assertEquals(fim, encaixeDTO.getDataHoraFim());&#10;    assertEquals(&quot;Urgência médica&quot;, encaixeDTO.getMotivoEncaixe());&#10;    assertEquals(&quot;Paciente com dor aguda&quot;, encaixeDTO.getObservacoes());&#10;    assertEquals(&quot;admin&quot;, encaixeDTO.getUsuarioCriadorLogin());&#10;  }&#10;&#10;  @Test&#10;  void testEncaixeDTONoArgsConstructor() {&#10;    EncaixeDTO encaixeDTO = new EncaixeDTO();&#10;&#10;    assertNull(encaixeDTO.getPacienteCpf());&#10;    assertNull(encaixeDTO.getMedicoCrm());&#10;    assertNull(encaixeDTO.getDataHoraInicio());&#10;    assertNull(encaixeDTO.getDataHoraFim());&#10;    assertNull(encaixeDTO.getMotivoEncaixe());&#10;    assertNull(encaixeDTO.getObservacoes());&#10;    assertNull(encaixeDTO.getUsuarioCriadorLogin());&#10;  }&#10;&#10;  @Test&#10;  void testEncaixeDTOAllArgsConstructor() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 2, 9, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 2, 10, 0);&#10;&#10;    EncaixeDTO encaixeDTO = new EncaixeDTO(&#10;        &quot;98765432100&quot;,&#10;        &quot;CRM789012&quot;,&#10;        inicio,&#10;        fim,&#10;        &quot;Retorno urgente&quot;,&#10;        &quot;Acompanhamento pós-operatório&quot;,&#10;        &quot;recepcionista&quot;&#10;    );&#10;&#10;    assertEquals(&quot;98765432100&quot;, encaixeDTO.getPacienteCpf());&#10;    assertEquals(&quot;CRM789012&quot;, encaixeDTO.getMedicoCrm());&#10;    assertEquals(inicio, encaixeDTO.getDataHoraInicio());&#10;    assertEquals(fim, encaixeDTO.getDataHoraFim());&#10;    assertEquals(&quot;Retorno urgente&quot;, encaixeDTO.getMotivoEncaixe());&#10;    assertEquals(&quot;Acompanhamento pós-operatório&quot;, encaixeDTO.getObservacoes());&#10;    assertEquals(&quot;recepcionista&quot;, encaixeDTO.getUsuarioCriadorLogin());&#10;  }&#10;&#10;  @Test&#10;  void testEncaixeDTOSettersAndGetters() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 3, 11, 30);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 3, 12, 30);&#10;&#10;    EncaixeDTO encaixeDTO = new EncaixeDTO();&#10;    encaixeDTO.setPacienteCpf(&quot;11122233344&quot;);&#10;    encaixeDTO.setMedicoCrm(&quot;CRM456789&quot;);&#10;    encaixeDTO.setDataHoraInicio(inicio);&#10;    encaixeDTO.setDataHoraFim(fim);&#10;    encaixeDTO.setMotivoEncaixe(&quot;Emergência&quot;);&#10;    encaixeDTO.setObservacoes(&quot;Febre alta&quot;);&#10;    encaixeDTO.setUsuarioCriadorLogin(&quot;enfermeiro&quot;);&#10;&#10;    assertEquals(&quot;11122233344&quot;, encaixeDTO.getPacienteCpf());&#10;    assertEquals(&quot;CRM456789&quot;, encaixeDTO.getMedicoCrm());&#10;    assertEquals(inicio, encaixeDTO.getDataHoraInicio());&#10;    assertEquals(fim, encaixeDTO.getDataHoraFim());&#10;    assertEquals(&quot;Emergência&quot;, encaixeDTO.getMotivoEncaixe());&#10;    assertEquals(&quot;Febre alta&quot;, encaixeDTO.getObservacoes());&#10;    assertEquals(&quot;enfermeiro&quot;, encaixeDTO.getUsuarioCriadorLogin());&#10;  }&#10;&#10;  @Test&#10;  void testEncaixeDTOWithNullValues() {&#10;    EncaixeDTO encaixeDTO = EncaixeDTO.builder()&#10;        .pacienteCpf(&quot;12345678900&quot;)&#10;        .medicoCrm(&quot;CRM123456&quot;)&#10;        .build();&#10;&#10;    assertEquals(&quot;12345678900&quot;, encaixeDTO.getPacienteCpf());&#10;    assertEquals(&quot;CRM123456&quot;, encaixeDTO.getMedicoCrm());&#10;    assertNull(encaixeDTO.getDataHoraInicio());&#10;    assertNull(encaixeDTO.getDataHoraFim());&#10;    assertNull(encaixeDTO.getMotivoEncaixe());&#10;    assertNull(encaixeDTO.getObservacoes());&#10;    assertNull(encaixeDTO.getUsuarioCriadorLogin());&#10;  }&#10;&#10;  @Test&#10;  void testEncaixeDTOEqualsAndHashCode() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 1, 15, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 1, 16, 0);&#10;&#10;    EncaixeDTO encaixe1 = EncaixeDTO.builder()&#10;        .pacienteCpf(&quot;12345678900&quot;)&#10;        .medicoCrm(&quot;CRM123456&quot;)&#10;        .dataHoraInicio(inicio)&#10;        .dataHoraFim(fim)&#10;        .build();&#10;&#10;    EncaixeDTO encaixe2 = EncaixeDTO.builder()&#10;        .pacienteCpf(&quot;12345678900&quot;)&#10;        .medicoCrm(&quot;CRM123456&quot;)&#10;        .dataHoraInicio(inicio)&#10;        .dataHoraFim(fim)&#10;        .build();&#10;&#10;    assertEquals(encaixe1, encaixe2);&#10;    assertEquals(encaixe1.hashCode(), encaixe2.hashCode());&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/exception/UsuarioNaoEncontradoExceptionTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/exception/UsuarioNaoEncontradoExceptionTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.application.exception;&#10;&#10;import org.junit.jupiter.api.Test;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;&#10;class UsuarioNaoEncontradoExceptionTest {&#10;&#10;  @Test&#10;  void testExceptionMessage() {&#10;    String message = &quot;Usuário com login admin não foi encontrado&quot;;&#10;    UsuarioNaoEncontradoException exception = new UsuarioNaoEncontradoException(message);&#10;&#10;    assertEquals(message, exception.getMessage());&#10;  }&#10;&#10;  @Test&#10;  void testExceptionIsInstanceOfAgendamentoException() {&#10;    UsuarioNaoEncontradoException exception = new UsuarioNaoEncontradoException(&quot;Teste&quot;);&#10;&#10;    assertTrue(exception instanceof AgendamentoException);&#10;  }&#10;&#10;  @Test&#10;  void testExceptionIsInstanceOfRuntimeException() {&#10;    UsuarioNaoEncontradoException exception = new UsuarioNaoEncontradoException(&quot;Teste&quot;);&#10;&#10;    assertTrue(exception instanceof RuntimeException);&#10;  }&#10;&#10;  @Test&#10;  void testExceptionWithDifferentMessages() {&#10;    UsuarioNaoEncontradoException exception1 = new UsuarioNaoEncontradoException(&quot;Usuário admin não encontrado&quot;);&#10;    UsuarioNaoEncontradoException exception2 = new UsuarioNaoEncontradoException(&quot;Usuário recepcionista não encontrado&quot;);&#10;&#10;    assertEquals(&quot;Usuário admin não encontrado&quot;, exception1.getMessage());&#10;    assertEquals(&quot;Usuário recepcionista não encontrado&quot;, exception2.getMessage());&#10;    assertNotEquals(exception1.getMessage(), exception2.getMessage());&#10;  }&#10;&#10;  @Test&#10;  void testExceptionCanBeThrown() {&#10;    assertThrows(UsuarioNaoEncontradoException.class, () -&gt; {&#10;      throw new UsuarioNaoEncontradoException(&quot;Usuário não existe&quot;);&#10;    });&#10;  }&#10;&#10;  @Test&#10;  void testExceptionMessageWithLogin() {&#10;    String login = &quot;joao.silva&quot;;&#10;    String message = String.format(&quot;Usuário com login %s não foi encontrado&quot;, login);&#10;    UsuarioNaoEncontradoException exception = new UsuarioNaoEncontradoException(message);&#10;&#10;    assertEquals(&quot;Usuário com login joao.silva não foi encontrado&quot;, exception.getMessage());&#10;    assertTrue(exception.getMessage().contains(login));&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/services/ExameServiceTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/services/ExameServiceTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.application.services;&#10;&#10;import com.simplehealth.agendamento.domain.entity.Exame;&#10;import com.simplehealth.agendamento.domain.enums.ModalidadeEnum;&#10;import com.simplehealth.agendamento.domain.enums.StatusAgendamentoEnum;&#10;import com.simplehealth.agendamento.infrastructure.repositories.ExameRepository;&#10;import org.junit.jupiter.api.BeforeEach;&#10;import org.junit.jupiter.api.Test;&#10;import org.junit.jupiter.api.extension.ExtendWith;&#10;import org.mockito.InjectMocks;&#10;import org.mockito.Mock;&#10;import org.mockito.junit.jupiter.MockitoExtension;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;import static org.mockito.ArgumentMatchers.any;&#10;import static org.mockito.Mockito.*;&#10;&#10;@ExtendWith(MockitoExtension.class)&#10;class ExameServiceTest {&#10;&#10;  @Mock&#10;  private ExameRepository exameRepository;&#10;&#10;  @InjectMocks&#10;  private ExameService exameService;&#10;&#10;  private Exame exame;&#10;&#10;  @BeforeEach&#10;  void setUp() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 5, 8, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 5, 9, 0);&#10;&#10;    exame = Exame.builder()&#10;        .nomeExame(&quot;Exame de Sangue&quot;)&#10;        .requerPreparo(true)&#10;        .instrucoesPreparo(&quot;Jejum de 8 horas&quot;)&#10;        .build();&#10;&#10;    exame.setId(&quot;exam123&quot;);&#10;    exame.setDataHoraInicio(inicio);&#10;    exame.setDataHoraFim(fim);&#10;    exame.setModalidade(ModalidadeEnum.PRESENCIAL);&#10;    exame.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    exame.setPacienteCpf(&quot;12345678900&quot;);&#10;    exame.setMedicoCrm(&quot;CRM123456&quot;);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarExameComSucesso() {&#10;    when(exameRepository.save(any(Exame.class))).thenReturn(exame);&#10;&#10;    Exame resultado = exameService.salvar(exame);&#10;&#10;    assertNotNull(resultado);&#10;    assertEquals(&quot;exam123&quot;, resultado.getId());&#10;    assertEquals(&quot;Exame de Sangue&quot;, resultado.getNomeExame());&#10;    assertTrue(resultado.getRequerPreparo());&#10;    assertEquals(&quot;Jejum de 8 horas&quot;, resultado.getInstrucoesPreparo());&#10;    assertEquals(&quot;12345678900&quot;, resultado.getPacienteCpf());&#10;    assertEquals(&quot;CRM123456&quot;, resultado.getMedicoCrm());&#10;&#10;    verify(exameRepository, times(1)).save(exame);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarExameSemPreparo() {&#10;    Exame exameSimples = Exame.builder()&#10;        .nomeExame(&quot;Raio-X&quot;)&#10;        .requerPreparo(false)&#10;        .build();&#10;    exameSimples.setId(&quot;exam456&quot;);&#10;&#10;    when(exameRepository.save(any(Exame.class))).thenReturn(exameSimples);&#10;&#10;    Exame resultado = exameService.salvar(exameSimples);&#10;&#10;    assertNotNull(resultado);&#10;    assertEquals(&quot;exam456&quot;, resultado.getId());&#10;    assertEquals(&quot;Raio-X&quot;, resultado.getNomeExame());&#10;    assertFalse(resultado.getRequerPreparo());&#10;&#10;    verify(exameRepository).save(exameSimples);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarExameChamaRepository() {&#10;    when(exameRepository.save(any(Exame.class))).thenReturn(exame);&#10;&#10;    exameService.salvar(exame);&#10;&#10;    verify(exameRepository, times(1)).save(exame);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarExameComDadosCompletos() {&#10;    when(exameRepository.save(any(Exame.class))).thenReturn(exame);&#10;&#10;    Exame resultado = exameService.salvar(exame);&#10;&#10;    assertNotNull(resultado.getId());&#10;    assertNotNull(resultado.getNomeExame());&#10;    assertNotNull(resultado.getDataHoraInicio());&#10;    assertNotNull(resultado.getDataHoraFim());&#10;    assertNotNull(resultado.getModalidade());&#10;    assertNotNull(resultado.getStatus());&#10;&#10;    verify(exameRepository).save(exame);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarDiferentesTiposDeExame() {&#10;    Exame tomografia = Exame.builder()&#10;        .nomeExame(&quot;Tomografia&quot;)&#10;        .requerPreparo(true)&#10;        .instrucoesPreparo(&quot;Retirar objetos metálicos&quot;)&#10;        .build();&#10;&#10;    when(exameRepository.save(any(Exame.class))).thenReturn(tomografia);&#10;&#10;    Exame resultado = exameService.salvar(tomografia);&#10;&#10;    assertEquals(&quot;Tomografia&quot;, resultado.getNomeExame());&#10;    verify(exameRepository).save(tomografia);&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/services/ProcedimentoServiceTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/services/ProcedimentoServiceTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.application.services;&#10;&#10;import com.simplehealth.agendamento.domain.entity.Procedimento;&#10;import com.simplehealth.agendamento.domain.enums.ModalidadeEnum;&#10;import com.simplehealth.agendamento.domain.enums.StatusAgendamentoEnum;&#10;import com.simplehealth.agendamento.infrastructure.repositories.ProcedimentoRepository;&#10;import org.junit.jupiter.api.BeforeEach;&#10;import org.junit.jupiter.api.Test;&#10;import org.junit.jupiter.api.extension.ExtendWith;&#10;import org.mockito.InjectMocks;&#10;import org.mockito.Mock;&#10;import org.mockito.junit.jupiter.MockitoExtension;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;import static org.mockito.ArgumentMatchers.any;&#10;import static org.mockito.Mockito.*;&#10;&#10;@ExtendWith(MockitoExtension.class)&#10;class ProcedimentoServiceTest {&#10;&#10;  @Mock&#10;  private ProcedimentoRepository procedimentoRepository;&#10;&#10;  @InjectMocks&#10;  private ProcedimentoService procedimentoService;&#10;&#10;  private Procedimento procedimento;&#10;&#10;  @BeforeEach&#10;  void setUp() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 10, 14, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 10, 16, 0);&#10;&#10;    procedimento = Procedimento.builder()&#10;        .descricaoProcedimento(&quot;Cirurgia de Apendicite&quot;)&#10;        .salaEquipamentoNecessario(&quot;Sala Cirúrgica 2&quot;)&#10;        .nivelRisco(&quot;Alto&quot;)&#10;        .build();&#10;&#10;    procedimento.setId(&quot;proc123&quot;);&#10;    procedimento.setDataHoraInicio(inicio);&#10;    procedimento.setDataHoraFim(fim);&#10;    procedimento.setModalidade(ModalidadeEnum.PRESENCIAL);&#10;    procedimento.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    procedimento.setPacienteCpf(&quot;11122233344&quot;);&#10;    procedimento.setMedicoCrm(&quot;CRM456789&quot;);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarProcedimentoComSucesso() {&#10;    when(procedimentoRepository.save(any(Procedimento.class))).thenReturn(procedimento);&#10;&#10;    Procedimento resultado = procedimentoService.salvar(procedimento);&#10;&#10;    assertNotNull(resultado);&#10;    assertEquals(&quot;proc123&quot;, resultado.getId());&#10;    assertEquals(&quot;Cirurgia de Apendicite&quot;, resultado.getDescricaoProcedimento());&#10;    assertEquals(&quot;Sala Cirúrgica 2&quot;, resultado.getSalaEquipamentoNecessario());&#10;    assertEquals(&quot;Alto&quot;, resultado.getNivelRisco());&#10;    assertEquals(&quot;11122233344&quot;, resultado.getPacienteCpf());&#10;    assertEquals(&quot;CRM456789&quot;, resultado.getMedicoCrm());&#10;&#10;    verify(procedimentoRepository, times(1)).save(procedimento);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarProcedimentoRiscoBaixo() {&#10;    Procedimento procSimples = Procedimento.builder()&#10;        .descricaoProcedimento(&quot;Aplicação de Injeção&quot;)&#10;        .salaEquipamentoNecessario(&quot;Consultório 1&quot;)&#10;        .nivelRisco(&quot;Baixo&quot;)&#10;        .build();&#10;    procSimples.setId(&quot;proc456&quot;);&#10;&#10;    when(procedimentoRepository.save(any(Procedimento.class))).thenReturn(procSimples);&#10;&#10;    Procedimento resultado = procedimentoService.salvar(procSimples);&#10;&#10;    assertNotNull(resultado);&#10;    assertEquals(&quot;proc456&quot;, resultado.getId());&#10;    assertEquals(&quot;Aplicação de Injeção&quot;, resultado.getDescricaoProcedimento());&#10;    assertEquals(&quot;Baixo&quot;, resultado.getNivelRisco());&#10;&#10;    verify(procedimentoRepository).save(procSimples);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarProcedimentoChamaRepository() {&#10;    when(procedimentoRepository.save(any(Procedimento.class))).thenReturn(procedimento);&#10;&#10;    procedimentoService.salvar(procedimento);&#10;&#10;    verify(procedimentoRepository, times(1)).save(procedimento);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarProcedimentoComDadosCompletos() {&#10;    when(procedimentoRepository.save(any(Procedimento.class))).thenReturn(procedimento);&#10;&#10;    Procedimento resultado = procedimentoService.salvar(procedimento);&#10;&#10;    assertNotNull(resultado.getId());&#10;    assertNotNull(resultado.getDescricaoProcedimento());&#10;    assertNotNull(resultado.getSalaEquipamentoNecessario());&#10;    assertNotNull(resultado.getNivelRisco());&#10;    assertNotNull(resultado.getDataHoraInicio());&#10;    assertNotNull(resultado.getDataHoraFim());&#10;&#10;    verify(procedimentoRepository).save(procedimento);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarDiferentesTiposDeProcedimento() {&#10;    Procedimento endoscopia = Procedimento.builder()&#10;        .descricaoProcedimento(&quot;Endoscopia&quot;)&#10;        .salaEquipamentoNecessario(&quot;Sala de Endoscopia&quot;)&#10;        .nivelRisco(&quot;Médio&quot;)&#10;        .build();&#10;&#10;    when(procedimentoRepository.save(any(Procedimento.class))).thenReturn(endoscopia);&#10;&#10;    Procedimento resultado = procedimentoService.salvar(endoscopia);&#10;&#10;    assertEquals(&quot;Endoscopia&quot;, resultado.getDescricaoProcedimento());&#10;    assertEquals(&quot;Médio&quot;, resultado.getNivelRisco());&#10;    verify(procedimentoRepository).save(endoscopia);&#10;  }&#10;&#10;  @Test&#10;  void testSalvarProcedimentoComDiferentesNiveisRisco() {&#10;    Procedimento baixo = Procedimento.builder()&#10;        .nivelRisco(&quot;Baixo&quot;)&#10;        .build();&#10;    Procedimento medio = Procedimento.builder()&#10;        .nivelRisco(&quot;Médio&quot;)&#10;        .build();&#10;    Procedimento alto = Procedimento.builder()&#10;        .nivelRisco(&quot;Alto&quot;)&#10;        .build();&#10;&#10;    when(procedimentoRepository.save(any(Procedimento.class)))&#10;        .thenReturn(baixo)&#10;        .thenReturn(medio)&#10;        .thenReturn(alto);&#10;&#10;    Procedimento resultBaixo = procedimentoService.salvar(baixo);&#10;    Procedimento resultMedio = procedimentoService.salvar(medio);&#10;    Procedimento resultAlto = procedimentoService.salvar(alto);&#10;&#10;    assertEquals(&quot;Baixo&quot;, resultBaixo.getNivelRisco());&#10;    assertEquals(&quot;Médio&quot;, resultMedio.getNivelRisco());&#10;    assertEquals(&quot;Alto&quot;, resultAlto.getNivelRisco());&#10;&#10;    verify(procedimentoRepository, times(3)).save(any(Procedimento.class));&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/usecases/RegistrarBloqueioAgendaUseCaseTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/usecases/RegistrarBloqueioAgendaUseCaseTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.application.usecases;&#10;&#10;import com.simplehealth.agendamento.application.dtos.BloqueioAgendaDTO;&#10;import com.simplehealth.agendamento.application.services.BloqueioAgendaService;&#10;import com.simplehealth.agendamento.domain.entity.BloqueioAgenda;&#10;import org.junit.jupiter.api.BeforeEach;&#10;import org.junit.jupiter.api.Test;&#10;import org.junit.jupiter.api.extension.ExtendWith;&#10;import org.mockito.InjectMocks;&#10;import org.mockito.Mock;&#10;import org.mockito.junit.jupiter.MockitoExtension;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;import static org.mockito.ArgumentMatchers.any;&#10;import static org.mockito.Mockito.*;&#10;&#10;@ExtendWith(MockitoExtension.class)&#10;class RegistrarBloqueioAgendaUseCaseTest {&#10;&#10;  @Mock&#10;  private BloqueioAgendaService bloqueioAgendaService;&#10;&#10;  @InjectMocks&#10;  private RegistrarBloqueioAgendaUseCase registrarBloqueioAgendaUseCase;&#10;&#10;  private BloqueioAgendaDTO bloqueioAgendaDTO;&#10;  private BloqueioAgenda bloqueioAgenda;&#10;&#10;  @BeforeEach&#10;  void setUp() {&#10;    LocalDateTime dataInicio = LocalDateTime.of(2025, 12, 24, 0, 0);&#10;    LocalDateTime dataFim = LocalDateTime.of(2025, 12, 31, 23, 59);&#10;&#10;    bloqueioAgendaDTO = BloqueioAgendaDTO.builder()&#10;        .dataInicio(dataInicio)&#10;        .dataFim(dataFim)&#10;        .motivo(&quot;Férias de fim de ano&quot;)&#10;        .antecedenciaMinima(48)&#10;        .medicoCrm(&quot;CRM123456&quot;)&#10;        .usuarioCriadorLogin(&quot;admin&quot;)&#10;        .build();&#10;&#10;    bloqueioAgenda = new BloqueioAgenda();&#10;    bloqueioAgenda.setId(&quot;bloq123&quot;);&#10;    bloqueioAgenda.setDataInicio(dataInicio);&#10;    bloqueioAgenda.setDataFim(dataFim);&#10;    bloqueioAgenda.setMotivo(&quot;Férias de fim de ano&quot;);&#10;    bloqueioAgenda.setAntecedenciaMinima(48);&#10;    bloqueioAgenda.setMedicoCrm(&quot;CRM123456&quot;);&#10;    bloqueioAgenda.setUsuarioCriadorLogin(&quot;admin&quot;);&#10;  }&#10;&#10;  @Test&#10;  void testRegistrarBloqueioComSucesso() {&#10;    when(bloqueioAgendaService.salvar(any(BloqueioAgenda.class))).thenReturn(bloqueioAgenda);&#10;&#10;    BloqueioAgenda resultado = registrarBloqueioAgendaUseCase.registrar(bloqueioAgendaDTO);&#10;&#10;    assertNotNull(resultado);&#10;    assertEquals(&quot;bloq123&quot;, resultado.getId());&#10;    assertEquals(bloqueioAgendaDTO.getDataInicio(), resultado.getDataInicio());&#10;    assertEquals(bloqueioAgendaDTO.getDataFim(), resultado.getDataFim());&#10;    assertEquals(bloqueioAgendaDTO.getMotivo(), resultado.getMotivo());&#10;    assertEquals(bloqueioAgendaDTO.getAntecedenciaMinima(), resultado.getAntecedenciaMinima());&#10;    assertEquals(bloqueioAgendaDTO.getMedicoCrm(), resultado.getMedicoCrm());&#10;    assertEquals(bloqueioAgendaDTO.getUsuarioCriadorLogin(), resultado.getUsuarioCriadorLogin());&#10;&#10;    verify(bloqueioAgendaService, times(1)).salvar(any(BloqueioAgenda.class));&#10;  }&#10;&#10;  @Test&#10;  void testRegistrarBloqueioComDadosCompletos() {&#10;    when(bloqueioAgendaService.salvar(any(BloqueioAgenda.class))).thenReturn(bloqueioAgenda);&#10;&#10;    BloqueioAgenda resultado = registrarBloqueioAgendaUseCase.registrar(bloqueioAgendaDTO);&#10;&#10;    assertNotNull(resultado);&#10;    assertNotNull(resultado.getId());&#10;    assertNotNull(resultado.getDataInicio());&#10;    assertNotNull(resultado.getDataFim());&#10;    assertNotNull(resultado.getMotivo());&#10;    assertNotNull(resultado.getMedicoCrm());&#10;&#10;    verify(bloqueioAgendaService).salvar(any(BloqueioAgenda.class));&#10;  }&#10;&#10;  @Test&#10;  void testRegistrarBloqueioChamaBloqueioAgendaService() {&#10;    when(bloqueioAgendaService.salvar(any(BloqueioAgenda.class))).thenReturn(bloqueioAgenda);&#10;&#10;    registrarBloqueioAgendaUseCase.registrar(bloqueioAgendaDTO);&#10;&#10;    verify(bloqueioAgendaService, times(1)).salvar(any(BloqueioAgenda.class));&#10;  }&#10;&#10;  @Test&#10;  void testRegistrarBloqueioComAntecedenciaMinima() {&#10;    bloqueioAgendaDTO.setAntecedenciaMinima(72);&#10;    bloqueioAgenda.setAntecedenciaMinima(72);&#10;&#10;    when(bloqueioAgendaService.salvar(any(BloqueioAgenda.class))).thenReturn(bloqueioAgenda);&#10;&#10;    BloqueioAgenda resultado = registrarBloqueioAgendaUseCase.registrar(bloqueioAgendaDTO);&#10;&#10;    assertEquals(72, resultado.getAntecedenciaMinima());&#10;    verify(bloqueioAgendaService).salvar(any(BloqueioAgenda.class));&#10;  }&#10;&#10;  @Test&#10;  void testRegistrarBloqueioParaDiferentesMedicos() {&#10;    bloqueioAgendaDTO.setMedicoCrm(&quot;CRM789012&quot;);&#10;    bloqueioAgenda.setMedicoCrm(&quot;CRM789012&quot;);&#10;&#10;    when(bloqueioAgendaService.salvar(any(BloqueioAgenda.class))).thenReturn(bloqueioAgenda);&#10;&#10;    BloqueioAgenda resultado = registrarBloqueioAgendaUseCase.registrar(bloqueioAgendaDTO);&#10;&#10;    assertEquals(&quot;CRM789012&quot;, resultado.getMedicoCrm());&#10;    verify(bloqueioAgendaService).salvar(any(BloqueioAgenda.class));&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/usecases/SolicitarEncaixeUseCaseTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/application/usecases/SolicitarEncaixeUseCaseTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.application.usecases;&#10;&#10;import com.simplehealth.agendamento.application.dtos.EncaixeDTO;&#10;import com.simplehealth.agendamento.application.exception.AgendamentoException;&#10;import com.simplehealth.agendamento.application.services.AgendamentoService;&#10;import com.simplehealth.agendamento.application.services.ConsultaService;&#10;import com.simplehealth.agendamento.domain.entity.Consulta;&#10;import com.simplehealth.agendamento.domain.enums.StatusAgendamentoEnum;&#10;import org.junit.jupiter.api.BeforeEach;&#10;import org.junit.jupiter.api.Test;&#10;import org.junit.jupiter.api.extension.ExtendWith;&#10;import org.mockito.InjectMocks;&#10;import org.mockito.Mock;&#10;import org.mockito.junit.jupiter.MockitoExtension;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;import static org.mockito.ArgumentMatchers.any;&#10;import static org.mockito.ArgumentMatchers.eq;&#10;import static org.mockito.Mockito.*;&#10;&#10;@ExtendWith(MockitoExtension.class)&#10;class SolicitarEncaixeUseCaseTest {&#10;&#10;  @Mock&#10;  private ConsultaService consultaService;&#10;&#10;  @Mock&#10;  private AgendamentoService agendamentoService;&#10;&#10;  @InjectMocks&#10;  private SolicitarEncaixeUseCase solicitarEncaixeUseCase;&#10;&#10;  private EncaixeDTO encaixeDTO;&#10;  private Consulta consulta;&#10;&#10;  @BeforeEach&#10;  void setUp() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 1, 15, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 1, 16, 0);&#10;&#10;    encaixeDTO = EncaixeDTO.builder()&#10;        .pacienteCpf(&quot;12345678900&quot;)&#10;        .medicoCrm(&quot;CRM123456&quot;)&#10;        .dataHoraInicio(inicio)&#10;        .dataHoraFim(fim)&#10;        .motivoEncaixe(&quot;Urgência médica&quot;)&#10;        .observacoes(&quot;Paciente com dor aguda&quot;)&#10;        .usuarioCriadorLogin(&quot;admin&quot;)&#10;        .build();&#10;&#10;    consulta = new Consulta();&#10;    consulta.setId(&quot;cons123&quot;);&#10;    consulta.setPacienteCpf(&quot;12345678900&quot;);&#10;    consulta.setMedicoCrm(&quot;CRM123456&quot;);&#10;    consulta.setDataHoraInicio(inicio);&#10;    consulta.setDataHoraFim(fim);&#10;    consulta.setIsEncaixe(true);&#10;    consulta.setMotivoEncaixe(&quot;Urgência médica&quot;);&#10;    consulta.setObservacoes(&quot;Paciente com dor aguda&quot;);&#10;    consulta.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    consulta.setUsuarioCriadorLogin(&quot;admin&quot;);&#10;  }&#10;&#10;  @Test&#10;  void testSolicitarEncaixeComSucesso() throws Exception {&#10;    doNothing().when(agendamentoService).verificarDisponibilidade(&#10;        anyString(), &#10;        any(LocalDateTime.class), &#10;        any(LocalDateTime.class)&#10;    );&#10;    when(consultaService.salvar(any(Consulta.class))).thenReturn(consulta);&#10;&#10;    Consulta resultado = solicitarEncaixeUseCase.execute(encaixeDTO);&#10;&#10;    assertNotNull(resultado);&#10;    assertEquals(&quot;cons123&quot;, resultado.getId());&#10;    assertEquals(&quot;12345678900&quot;, resultado.getPacienteCpf());&#10;    assertEquals(&quot;CRM123456&quot;, resultado.getMedicoCrm());&#10;    assertTrue(resultado.getIsEncaixe());&#10;    assertEquals(&quot;Urgência médica&quot;, resultado.getMotivoEncaixe());&#10;    assertEquals(&quot;Paciente com dor aguda&quot;, resultado.getObservacoes());&#10;    assertEquals(StatusAgendamentoEnum.ATIVO, resultado.getStatus());&#10;    assertEquals(&quot;admin&quot;, resultado.getUsuarioCriadorLogin());&#10;&#10;    verify(agendamentoService, times(1)).verificarDisponibilidade(&#10;        eq(&quot;CRM123456&quot;),&#10;        eq(encaixeDTO.getDataHoraInicio()),&#10;        eq(encaixeDTO.getDataHoraFim())&#10;    );&#10;    verify(consultaService, times(1)).salvar(any(Consulta.class));&#10;  }&#10;&#10;  @Test&#10;  void testSolicitarEncaixeVerificaDisponibilidade() throws Exception {&#10;    doNothing().when(agendamentoService).verificarDisponibilidade(&#10;        anyString(),&#10;        any(LocalDateTime.class),&#10;        any(LocalDateTime.class)&#10;    );&#10;    when(consultaService.salvar(any(Consulta.class))).thenReturn(consulta);&#10;&#10;    solicitarEncaixeUseCase.execute(encaixeDTO);&#10;&#10;    verify(agendamentoService).verificarDisponibilidade(&#10;        eq(&quot;CRM123456&quot;),&#10;        eq(encaixeDTO.getDataHoraInicio()),&#10;        eq(encaixeDTO.getDataHoraFim())&#10;    );&#10;  }&#10;&#10;  @Test&#10;  void testSolicitarEncaixeLancaExcecaoQuandoIndisponivel() throws Exception {&#10;    doThrow(new AgendamentoException(&quot;Horário indisponível&quot;))&#10;        .when(agendamentoService).verificarDisponibilidade(&#10;            anyString(),&#10;            any(LocalDateTime.class),&#10;            any(LocalDateTime.class)&#10;        );&#10;&#10;    assertThrows(AgendamentoException.class, () -&gt; {&#10;      solicitarEncaixeUseCase.execute(encaixeDTO);&#10;    });&#10;&#10;    verify(agendamentoService).verificarDisponibilidade(&#10;        eq(&quot;CRM123456&quot;),&#10;        eq(encaixeDTO.getDataHoraInicio()),&#10;        eq(encaixeDTO.getDataHoraFim())&#10;    );&#10;    verify(consultaService, never()).salvar(any(Consulta.class));&#10;  }&#10;&#10;  @Test&#10;  void testSolicitarEncaixeMarcaComoEncaixe() throws Exception {&#10;    doNothing().when(agendamentoService).verificarDisponibilidade(&#10;        anyString(),&#10;        any(LocalDateTime.class),&#10;        any(LocalDateTime.class)&#10;    );&#10;    when(consultaService.salvar(any(Consulta.class))).thenReturn(consulta);&#10;&#10;    Consulta resultado = solicitarEncaixeUseCase.execute(encaixeDTO);&#10;&#10;    assertTrue(resultado.getIsEncaixe());&#10;    assertNotNull(resultado.getMotivoEncaixe());&#10;    verify(consultaService).salvar(any(Consulta.class));&#10;  }&#10;&#10;  @Test&#10;  void testSolicitarEncaixeComStatusAtivo() throws Exception {&#10;    doNothing().when(agendamentoService).verificarDisponibilidade(&#10;        anyString(),&#10;        any(LocalDateTime.class),&#10;        any(LocalDateTime.class)&#10;    );&#10;    when(consultaService.salvar(any(Consulta.class))).thenReturn(consulta);&#10;&#10;    Consulta resultado = solicitarEncaixeUseCase.execute(encaixeDTO);&#10;&#10;    assertEquals(StatusAgendamentoEnum.ATIVO, resultado.getStatus());&#10;    verify(consultaService).salvar(any(Consulta.class));&#10;  }&#10;&#10;  @Test&#10;  void testSolicitarEncaixeComDadosCompletos() throws Exception {&#10;    doNothing().when(agendamentoService).verificarDisponibilidade(&#10;        anyString(),&#10;        any(LocalDateTime.class),&#10;        any(LocalDateTime.class)&#10;    );&#10;    when(consultaService.salvar(any(Consulta.class))).thenReturn(consulta);&#10;&#10;    Consulta resultado = solicitarEncaixeUseCase.execute(encaixeDTO);&#10;&#10;    assertNotNull(resultado.getPacienteCpf());&#10;    assertNotNull(resultado.getMedicoCrm());&#10;    assertNotNull(resultado.getDataHoraInicio());&#10;    assertNotNull(resultado.getDataHoraFim());&#10;    assertNotNull(resultado.getMotivoEncaixe());&#10;    assertNotNull(resultado.getUsuarioCriadorLogin());&#10;    verify(consultaService).salvar(any(Consulta.class));&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/domain/entity/ExameTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/domain/entity/ExameTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.domain.entity;&#10;&#10;import com.simplehealth.agendamento.domain.enums.ModalidadeEnum;&#10;import com.simplehealth.agendamento.domain.enums.StatusAgendamentoEnum;&#10;import org.junit.jupiter.api.Test;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;&#10;class ExameTest {&#10;&#10;  @Test&#10;  void testExameCreationWithBuilder() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 5, 8, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 5, 9, 0);&#10;&#10;    Exame exame = Exame.builder()&#10;        .nomeExame(&quot;Exame de Sangue&quot;)&#10;        .requerPreparo(true)&#10;        .instrucoesPreparo(&quot;Jejum de 8 horas&quot;)&#10;        .build();&#10;&#10;    exame.setDataHoraInicio(inicio);&#10;    exame.setDataHoraFim(fim);&#10;    exame.setModalidade(ModalidadeEnum.PRESENCIAL);&#10;    exame.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    exame.setPacienteCpf(&quot;12345678900&quot;);&#10;&#10;    assertNotNull(exame);&#10;    assertEquals(&quot;Exame de Sangue&quot;, exame.getNomeExame());&#10;    assertTrue(exame.getRequerPreparo());&#10;    assertEquals(&quot;Jejum de 8 horas&quot;, exame.getInstrucoesPreparo());&#10;    assertEquals(inicio, exame.getDataHoraInicio());&#10;    assertEquals(fim, exame.getDataHoraFim());&#10;    assertEquals(ModalidadeEnum.PRESENCIAL, exame.getModalidade());&#10;    assertEquals(StatusAgendamentoEnum.ATIVO, exame.getStatus());&#10;    assertEquals(&quot;12345678900&quot;, exame.getPacienteCpf());&#10;  }&#10;&#10;  @Test&#10;  void testExameSemPreparo() {&#10;    Exame exame = Exame.builder()&#10;        .nomeExame(&quot;Raio-X&quot;)&#10;        .requerPreparo(false)&#10;        .build();&#10;&#10;    assertEquals(&quot;Raio-X&quot;, exame.getNomeExame());&#10;    assertFalse(exame.getRequerPreparo());&#10;    assertNull(exame.getInstrucoesPreparo());&#10;  }&#10;&#10;  @Test&#10;  void testExameComPreparo() {&#10;    Exame exame = Exame.builder()&#10;        .nomeExame(&quot;Ultrassom Abdominal&quot;)&#10;        .requerPreparo(true)&#10;        .instrucoesPreparo(&quot;Beber 1 litro de água 1 hora antes do exame&quot;)&#10;        .build();&#10;&#10;    assertEquals(&quot;Ultrassom Abdominal&quot;, exame.getNomeExame());&#10;    assertTrue(exame.getRequerPreparo());&#10;    assertEquals(&quot;Beber 1 litro de água 1 hora antes do exame&quot;, exame.getInstrucoesPreparo());&#10;  }&#10;&#10;  @Test&#10;  void testExameSettersAndGetters() {&#10;    Exame exame = new Exame();&#10;    exame.setNomeExame(&quot;Tomografia&quot;);&#10;    exame.setRequerPreparo(true);&#10;    exame.setInstrucoesPreparo(&quot;Retirar objetos metálicos&quot;);&#10;&#10;    assertEquals(&quot;Tomografia&quot;, exame.getNomeExame());&#10;    assertTrue(exame.getRequerPreparo());&#10;    assertEquals(&quot;Retirar objetos metálicos&quot;, exame.getInstrucoesPreparo());&#10;  }&#10;&#10;  @Test&#10;  void testExameHerdaAgendamento() {&#10;    Exame exame = new Exame();&#10;    exame.setId(&quot;exam123&quot;);&#10;    exame.setNomeExame(&quot;Ressonância Magnética&quot;);&#10;    exame.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    exame.setModalidade(ModalidadeEnum.PRESENCIAL);&#10;    exame.setPacienteCpf(&quot;98765432100&quot;);&#10;    exame.setMedicoCrm(&quot;CRM789012&quot;);&#10;&#10;    assertEquals(&quot;exam123&quot;, exame.getId());&#10;    assertEquals(&quot;Ressonância Magnética&quot;, exame.getNomeExame());&#10;    assertEquals(StatusAgendamentoEnum.ATIVO, exame.getStatus());&#10;    assertEquals(ModalidadeEnum.PRESENCIAL, exame.getModalidade());&#10;    assertEquals(&quot;98765432100&quot;, exame.getPacienteCpf());&#10;    assertEquals(&quot;CRM789012&quot;, exame.getMedicoCrm());&#10;  }&#10;&#10;  @Test&#10;  void testExameAllArgsConstructor() {&#10;    Exame exame = new Exame(&quot;Eletrocardiograma&quot;, false, null);&#10;&#10;    assertEquals(&quot;Eletrocardiograma&quot;, exame.getNomeExame());&#10;    assertFalse(exame.getRequerPreparo());&#10;    assertNull(exame.getInstrucoesPreparo());&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/domain/entity/ProcedimentoTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/domain/entity/ProcedimentoTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.domain.entity;&#10;&#10;import com.simplehealth.agendamento.domain.enums.ModalidadeEnum;&#10;import com.simplehealth.agendamento.domain.enums.StatusAgendamentoEnum;&#10;import org.junit.jupiter.api.Test;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;&#10;class ProcedimentoTest {&#10;&#10;  @Test&#10;  void testProcedimentoCreationWithBuilder() {&#10;    LocalDateTime inicio = LocalDateTime.of(2025, 12, 10, 14, 0);&#10;    LocalDateTime fim = LocalDateTime.of(2025, 12, 10, 16, 0);&#10;&#10;    Procedimento procedimento = Procedimento.builder()&#10;        .descricaoProcedimento(&quot;Cirurgia de Apendicite&quot;)&#10;        .salaEquipamentoNecessario(&quot;Sala Cirúrgica 2&quot;)&#10;        .nivelRisco(&quot;Alto&quot;)&#10;        .build();&#10;&#10;    procedimento.setDataHoraInicio(inicio);&#10;    procedimento.setDataHoraFim(fim);&#10;    procedimento.setModalidade(ModalidadeEnum.PRESENCIAL);&#10;    procedimento.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    procedimento.setPacienteCpf(&quot;11122233344&quot;);&#10;    procedimento.setMedicoCrm(&quot;CRM456789&quot;);&#10;&#10;    assertNotNull(procedimento);&#10;    assertEquals(&quot;Cirurgia de Apendicite&quot;, procedimento.getDescricaoProcedimento());&#10;    assertEquals(&quot;Sala Cirúrgica 2&quot;, procedimento.getSalaEquipamentoNecessario());&#10;    assertEquals(&quot;Alto&quot;, procedimento.getNivelRisco());&#10;    assertEquals(inicio, procedimento.getDataHoraInicio());&#10;    assertEquals(fim, procedimento.getDataHoraFim());&#10;    assertEquals(ModalidadeEnum.PRESENCIAL, procedimento.getModalidade());&#10;    assertEquals(StatusAgendamentoEnum.ATIVO, procedimento.getStatus());&#10;  }&#10;&#10;  @Test&#10;  void testProcedimentoRiscoBaixo() {&#10;    Procedimento procedimento = Procedimento.builder()&#10;        .descricaoProcedimento(&quot;Aplicação de Injeção&quot;)&#10;        .salaEquipamentoNecessario(&quot;Consultório 1&quot;)&#10;        .nivelRisco(&quot;Baixo&quot;)&#10;        .build();&#10;&#10;    assertEquals(&quot;Aplicação de Injeção&quot;, procedimento.getDescricaoProcedimento());&#10;    assertEquals(&quot;Consultório 1&quot;, procedimento.getSalaEquipamentoNecessario());&#10;    assertEquals(&quot;Baixo&quot;, procedimento.getNivelRisco());&#10;  }&#10;&#10;  @Test&#10;  void testProcedimentoRiscoMedio() {&#10;    Procedimento procedimento = Procedimento.builder()&#10;        .descricaoProcedimento(&quot;Endoscopia&quot;)&#10;        .salaEquipamentoNecessario(&quot;Sala de Endoscopia&quot;)&#10;        .nivelRisco(&quot;Médio&quot;)&#10;        .build();&#10;&#10;    assertEquals(&quot;Endoscopia&quot;, procedimento.getDescricaoProcedimento());&#10;    assertEquals(&quot;Sala de Endoscopia&quot;, procedimento.getSalaEquipamentoNecessario());&#10;    assertEquals(&quot;Médio&quot;, procedimento.getNivelRisco());&#10;  }&#10;&#10;  @Test&#10;  void testProcedimentoSettersAndGetters() {&#10;    Procedimento procedimento = new Procedimento();&#10;    procedimento.setDescricaoProcedimento(&quot;Biópsia&quot;);&#10;    procedimento.setSalaEquipamentoNecessario(&quot;Laboratório&quot;);&#10;    procedimento.setNivelRisco(&quot;Médio&quot;);&#10;&#10;    assertEquals(&quot;Biópsia&quot;, procedimento.getDescricaoProcedimento());&#10;    assertEquals(&quot;Laboratório&quot;, procedimento.getSalaEquipamentoNecessario());&#10;    assertEquals(&quot;Médio&quot;, procedimento.getNivelRisco());&#10;  }&#10;&#10;  @Test&#10;  void testProcedimentoHerdaAgendamento() {&#10;    Procedimento procedimento = new Procedimento();&#10;    procedimento.setId(&quot;proc123&quot;);&#10;    procedimento.setDescricaoProcedimento(&quot;Cirurgia Cardíaca&quot;);&#10;    procedimento.setStatus(StatusAgendamentoEnum.ATIVO);&#10;    procedimento.setModalidade(ModalidadeEnum.PRESENCIAL);&#10;    procedimento.setPacienteCpf(&quot;55566677788&quot;);&#10;    procedimento.setMedicoCrm(&quot;CRM123123&quot;);&#10;    procedimento.setObservacoes(&quot;Procedimento complexo&quot;);&#10;&#10;    assertEquals(&quot;proc123&quot;, procedimento.getId());&#10;    assertEquals(&quot;Cirurgia Cardíaca&quot;, procedimento.getDescricaoProcedimento());&#10;    assertEquals(StatusAgendamentoEnum.ATIVO, procedimento.getStatus());&#10;    assertEquals(ModalidadeEnum.PRESENCIAL, procedimento.getModalidade());&#10;    assertEquals(&quot;55566677788&quot;, procedimento.getPacienteCpf());&#10;    assertEquals(&quot;CRM123123&quot;, procedimento.getMedicoCrm());&#10;    assertEquals(&quot;Procedimento complexo&quot;, procedimento.getObservacoes());&#10;  }&#10;&#10;  @Test&#10;  void testProcedimentoAllArgsConstructor() {&#10;    Procedimento procedimento = new Procedimento(&#10;        &quot;Pequena Cirurgia&quot;,&#10;        &quot;Sala 3&quot;,&#10;        &quot;Baixo&quot;&#10;    );&#10;&#10;    assertEquals(&quot;Pequena Cirurgia&quot;, procedimento.getDescricaoProcedimento());&#10;    assertEquals(&quot;Sala 3&quot;, procedimento.getSalaEquipamentoNecessario());&#10;    assertEquals(&quot;Baixo&quot;, procedimento.getNivelRisco());&#10;  }&#10;&#10;  @Test&#10;  void testProcedimentoNoArgsConstructor() {&#10;    Procedimento procedimento = new Procedimento();&#10;&#10;    assertNull(procedimento.getDescricaoProcedimento());&#10;    assertNull(procedimento.getSalaEquipamentoNecessario());&#10;    assertNull(procedimento.getNivelRisco());&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/domain/enums/TipoConsultaEnumTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/simplehealth-back-agendamento/src/test/java/com/simplehealth/agendamento/domain/enums/TipoConsultaEnumTest.java" />
              <option name="updatedContent" value="package com.simplehealth.agendamento.domain.enums;&#10;&#10;import org.junit.jupiter.api.Test;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;&#10;class TipoConsultaEnumTest {&#10;&#10;  @Test&#10;  void testEnumValues() {&#10;    TipoConsultaEnum[] values = TipoConsultaEnum.values();&#10;&#10;    assertEquals(3, values.length);&#10;    assertTrue(containsValue(values, TipoConsultaEnum.PRIMEIRA));&#10;    assertTrue(containsValue(values, TipoConsultaEnum.RETORNO));&#10;    assertTrue(containsValue(values, TipoConsultaEnum.ROTINA));&#10;  }&#10;&#10;  @Test&#10;  void testEnumValueOf() {&#10;    assertEquals(TipoConsultaEnum.PRIMEIRA, TipoConsultaEnum.valueOf(&quot;PRIMEIRA&quot;));&#10;    assertEquals(TipoConsultaEnum.RETORNO, TipoConsultaEnum.valueOf(&quot;RETORNO&quot;));&#10;    assertEquals(TipoConsultaEnum.ROTINA, TipoConsultaEnum.valueOf(&quot;ROTINA&quot;));&#10;  }&#10;&#10;  @Test&#10;  void testEnumName() {&#10;    assertEquals(&quot;PRIMEIRA&quot;, TipoConsultaEnum.PRIMEIRA.name());&#10;    assertEquals(&quot;RETORNO&quot;, TipoConsultaEnum.RETORNO.name());&#10;    assertEquals(&quot;ROTINA&quot;, TipoConsultaEnum.ROTINA.name());&#10;  }&#10;&#10;  private boolean containsValue(TipoConsultaEnum[] values, TipoConsultaEnum value) {&#10;    for (TipoConsultaEnum v : values) {&#10;      if (v == value) {&#10;        return true;&#10;      }&#10;    }&#10;    return false;&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>